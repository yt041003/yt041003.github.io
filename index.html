<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é¦™æ¸¯è²¨å¹£ - iPad å°ˆç”¨ç‰ˆ</title>
    <style>
        :root {
            --bg-color: #f0f8ff;
            --wallet-bg: #fff5e6;
            --border-color: #5d4037;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent; /* ç§»é™¤é»æ“Šæ™‚çš„è—è‰²æ–¹å¡Š */
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none; 
        }

        /* é ‚éƒ¨æ§åˆ¶åˆ— */
        header {
            background-color: #37474f;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            z-index: 10;
        }

        h1 { margin: 0; font-size: 1.2rem; }

        /* ç¸½å€¼é¡¯ç¤ºå€ */
        .total-container {
            display: flex;
            align-items: center;
            gap: 10px;
            background: #2e7d32;
            padding: 5px 15px;
            border-radius: 50px;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
        }

        .total-label { font-size: 1.2rem; }

        .total-value {
            font-size: 1.6rem;
            font-weight: bold;
            min-width: 120px;
            text-align: center;
            color: #fff;
        }

        .total-value.hidden {
            background-color: #1b5e20;
            color: transparent;
            position: relative;
        }
        .total-value.hidden::after {
            content: "???";
            color: #81c784;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        /* æŒ‰éˆ•é€šç”¨æ¨£å¼ */
        .btn-ctrl {
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: bold;
            touch-action: manipulation;
        }

        .btn-toggle { background-color: #ffca28; color: #333; }
        .btn-reset { background-color: #e53935; color: white; }

        /* ä¸»ç•«é¢ */
        .container {
            display: flex;
            flex: 1;
            height: calc(100vh - 70px);
        }

        /* å·¦å´è²¨å¹£æ¶ */
        .money-rack {
            width: 38%;
            background-color: #eceff1;
            padding: 10px;
            overflow-y: auto;
            border-right: 4px solid #cfd8dc;
            -webkit-overflow-scrolling: touch; 
        }

        .rack-title {
            font-size: 1.1rem;
            color: #546e7a;
            border-bottom: 2px solid #b0bec5;
            padding-bottom: 5px;
            margin-bottom: 15px;
            text-align: center;
        }

        .money-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            justify-content: center;
            padding-bottom: 20px;
        }

        /* === é—œéµä¿®æ”¹ï¼šå°‡è²¨å¹£åŒ…è£æˆæŒ‰éˆ• === */
        .money-btn {
            background: none;
            border: none;
            padding: 0;
            margin: 5px;
            cursor: pointer;
            transition: transform 0.1s;
            touch-action: manipulation; /* å‘Šè¨´ç€è¦½å™¨é€™æ˜¯æŒ‰éˆ•ï¼Œä¸è¦å»¶é² */
            position: relative;
        }

        /* é»æ“Šæ™‚çš„ç¸®æ”¾æ•ˆæœ */
        .money-btn:active {
            transform: scale(0.9);
        }

        .currency-img {
            display: block; /* æ¶ˆé™¤åœ–ç‰‡ä¸‹æ–¹çš„ç©ºéš™ */
            filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3));
            object-fit: contain;
            pointer-events: none; /* è®“é»æ“Šäº‹ä»¶ç©¿é€åœ–ç‰‡ï¼Œç›´æ¥ç”± button æ¥æ”¶ */
        }

        /* å³å´éŠ€åŒ… */
        .wallet-area {
            width: 62%;
            background-color: var(--wallet-bg);
            background-image: url('https://www.transparenttextures.com/patterns/leather.png'); 
            position: relative;
            border: 15px solid var(--border-color);
            border-radius: 20px;
            margin: 10px;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.2);
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            padding: 20px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch; 
        }

        .placeholder-text {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            color: rgba(93, 64, 55, 0.3);
            pointer-events: none;
            font-weight: bold;
            text-align: center;
        }

        /* éŠ€åŒ…å…§çš„é …ç›® */
        .wallet-item {
            margin: 5px;
            cursor: pointer;
            animation: popIn 0.3s ease-out;
            position: relative;
            z-index: 10;
        }
        
        .wallet-item img {
            pointer-events: none; /* è®“é»æ“Šäº‹ä»¶ç”± div æ¥æ”¶ */
        }

        @keyframes popIn {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* å°ºå¯¸è¨­å®š */
        .c10, .c20, .c50, .c1, .c2, .c5, .c10-coin { width: 55px; height: 55px; }
        .note { width: 120px; height: auto; }

        /* æ‰‹æ©Ÿç‰ˆèª¿æ•´ */
        @media (max-width: 800px) {
            .money-rack { width: 35%; padding: 5px; }
            .wallet-area { width: 65%; margin: 5px; border-width: 8px;}
            .note { width: 90px; }
            .c10, .c20, .c50, .c1, .c2, .c5, .c10-coin { width: 45px; height: 45px; }
            .total-value { font-size: 1.2rem; min-width: 80px;}
        }
    </style>
</head>
<body>

<header>
    <h1>æˆ‘çš„éŠ€åŒ…</h1>
    
    <div class="total-container">
        <span class="total-label">ç¸½å€¼: </span>
        <span id="totalValue" class="total-value">0å…ƒ0è§’</span>
        <button class="btn-ctrl btn-toggle" onclick="toggleTotal()">ğŸ‘ï¸</button>
    </div>

    <button class="btn-ctrl btn-reset" onclick="resetWallet()">æ¸…ç©º</button>
</header>

<div class="container">
    <!-- å·¦å´ï¼šè²¨å¹£é¸æ“‡ -->
    <div class="money-rack">
        
        <div class="rack-title">ç¡¬å¹£</div>
        <div class="money-grid">
            <!-- æ¢å¾©ä½¿ç”¨ç©©å®šé€£çµï¼Œé¿å…åœ–ç‰‡ç ´åœ– -->
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTiTmKqFRrWE4Qzbm2gIUsb6vUUYhKcWTme3A&s" class="currency-img c10" draggable="true" ondragstart="drag(event)" data-value="0.1" title="1æ¯«">
        <img src="https://media.karousell.com/media/photos/products/2018/10/04/_1998___02_1538636002_e640ad240" class="currency-img c20" draggable="true" ondragstart="drag(event)" data-value="0.2" title="2æ¯«">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKQxKDzvPW2v21PLXVbCRxaV7nejHb9lcXIA&s" class="currency-img c50" draggable="true" ondragstart="drag(event)" data-value="0.5" title="5æ¯«">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScRblcaaQ7ee2WyE2KSg4l_KKgv5rpeXJ1lw&s" class="currency-img c1" draggable="true" ondragstart="drag(event)" data-value="1" title="1å…ƒ">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS98wcP_CcOLJBVNTs_xql0PzmPxUycsHMmmg&s" class="currency-img c2" draggable="true" ondragstart="drag(event)" data-value="2" title="2å…ƒ">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGPEQUk6kRE8WW9X6RF71RIYxluo-XNELAcw&s" class="currency-img c5" draggable="true" ondragstart="drag(event)" data-value="5" title="5å…ƒ">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSAskaWMB2Y0Mb6bXL_OLqu-K4mRUK79SFBcA&s" class="currency-img c10-coin" draggable="true" ondragstart="drag(event)" data-value="10" title="10å…ƒç¡¬å¹£">
    </div>

    <div class="rack-title" style="margin-top:15px;">ç´™å¹£</div>
    <div class="money-grid">
        <!-- ç´™å¹£ä½¿ç”¨ 2018ç³»åˆ— æ¨£æœ¬ -->
        <img src="https://www.hkma.gov.hk/media/chi/img/key-functions/money/notes-and-coins/notes/design-security-features-of-2010-currency-notes/10%20Dollar/Paper%20Note/notefront_1_mark.jpg" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="10" title="10å…ƒç´™å¹£">
        
        <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/20/HSBC_20_(Front).jpg" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="20" title="20å…ƒç´™å¹£">

        <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/50/HSBC_50_(Front).jpg" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="50" title="50å…ƒç´™å¹£">

        <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/100/banknotes_hsbc_100_front_mark.png" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="100" title="100å…ƒç´™å¹£">

        <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/500/banknotes_hsbc_500_front_mark.jpg" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="500" title="500å…ƒç´™å¹£">

        <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/1000/banknotes_hsbc_1000_front_mark.jpg" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="1000" title="1000å…ƒç´™å¹£">
    </div>
</div>



    <!-- å³å´ï¼šéŠ€åŒ… -->
    <div class="wallet-area" id="wallet">
        <div class="placeholder-text" id="walletLabel">é»æ“Šå·¦å´åŠ å…¥</div>
    </div>
</div>

<script>
    let currentTotal = 0;
    let isHidden = false;

    // æ–°å¢è²¨å¹£ (ç›´æ¥æ¥æ”¶åƒæ•¸ï¼Œä¸å†ä¾è³´ DOM è®€å–)
    function addMoney(value, dummySrc, sizeClass) {
        // éš±è—æç¤ºæ–‡å­—
        const label = document.getElementById("walletLabel");
        if (label) label.style.display = "none";

        // æ›´æ–°æ•¸å€¼
        currentTotal += value;
        updateDisplay();

        // å‰µå»ºéŠ€åŒ…å…§çš„é …ç›®
        // ä½¿ç”¨ button æˆ– div åŒ…è£¹ imgï¼Œç¢ºä¿å¯é»æ“Š
        const container = document.createElement("div");
        container.className = "wallet-item";
        
        // æˆ‘å€‘éœ€è¦ç²å–å‰›æ‰é»æ“Šçš„æŒ‰éˆ•è£¡çš„åœ–ç‰‡ src
        // ç‚ºäº†ç°¡å–®èµ·è¦‹ï¼Œé€™è£¡é‡æ–°æ§‹å»º img
        const img = document.createElement("img");
        
        // æ ¹æ“š class å’Œ value æ‰¾å›å°æ‡‰çš„ç¶­åŸºç™¾ç§‘åœ–ç‰‡é€£çµ (ç‚ºäº†ä¿éšª)
        // é€™è£¡ç‚ºäº†è®“ä»£ç¢¼é€šç”¨ï¼Œæˆ‘å€‘ä½¿ç”¨ event target çš„åœ–ç‰‡ src
        // ä½†å› ç‚ºæˆ‘å€‘ç›´æ¥å‚³åƒæ•¸äº†ï¼Œé€™è£¡ç”¨ä¸€å€‹å°æŠ€å·§ï¼š
        // æˆ‘å€‘ç›´æ¥å» DOM æ‰¾å°æ‡‰ class çš„ç¬¬ä¸€å€‹åœ–ç‰‡çš„ src è¤‡è£½éä¾† (æœ‰é»æŠ•æ©Ÿä½†æœ‰æ•ˆ)
        // æˆ–è€…æ›´ç°¡å–®ï¼šç›´æ¥åœ¨ä¸‹é¢å®šç¾©å¥½åœ–ç‰‡ Mapã€‚
        
        // ç‚ºäº†ç¢ºä¿åœ–ç‰‡æ­£ç¢ºï¼Œæˆ‘ç›´æ¥æŠŠ src å¯«åœ¨ onclick è£¡æœƒå¤ªé•·ã€‚
        // æˆ‘å€‘ç”¨ä¸€å€‹ç°¡å–®çš„æ–¹æ³•ï¼šæŒ‰ä¸‹æŒ‰éˆ•æ™‚ï¼Œç²å–æŒ‰éˆ•å…§éƒ¨çš„ img src
        const clickedButton = event.currentTarget; // ç²å–è¢«é»æ“Šçš„ button
        const sourceImg = clickedButton.querySelector("img");
        img.src = sourceImg.src;
        
        img.className = `currency-img ${sizeClass}`;
        
        container.appendChild(img);

        // é»æ“ŠéŠ€åŒ…å…§çš„é …ç›® = ç§»é™¤
        container.onclick = function() {
            removeMoney(this, value);
        };

        document.getElementById("wallet").appendChild(container);
    }

    // ç§»é™¤è²¨å¹£
    function removeMoney(el, val) {
        currentTotal -= val;
        // æµ®é»æ•¸ä¿®æ­£
        if (currentTotal < 0.05) currentTotal = 0;
        
        updateDisplay();
        el.remove();

        // æª¢æŸ¥éŠ€åŒ…æ˜¯å¦ç©ºäº†
        const walletItems = document.querySelectorAll(".wallet-item");
        if (walletItems.length === 0) {
            const label = document.getElementById("walletLabel");
            if (label) label.style.display = "block";
        }
    }

    // æ›´æ–°é¡¯ç¤º
    function updateDisplay() {
        let totalDeciseconds = Math.round(currentTotal * 10);
        let dollars = Math.floor(totalDeciseconds / 10);
        let dimes = totalDeciseconds % 10;
        let displayString = dollars + "å…ƒ" + dimes + "è§’";
        document.getElementById("totalValue").innerText = displayString;
    }

    // é¡¯ç¤º/éš±è—
    function toggleTotal() {
        isHidden = !isHidden;
        const valSpan = document.getElementById("totalValue");
        const btn = document.querySelector(".btn-toggle");

        if (isHidden) {
            valSpan.classList.add("hidden");
            btn.innerText = "ğŸ”’"; 
            btn.style.backgroundColor = "#bdbdbd";
        } else {
            valSpan.classList.remove("hidden");
            btn.innerText = "ğŸ‘ï¸"; 
            btn.style.backgroundColor = "#ffca28";
        }
    }

    // é‡ç½®
    function resetWallet() {
        const items = document.querySelectorAll(".wallet-item");
        items.forEach(item => item.remove());

        currentTotal = 0;
        updateDisplay();
        
        const label = document.getElementById("walletLabel");
        if (label) label.style.display = "block";
    }
</script>

</body>
</html>
