<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é¦™æ¸¯è²¨å¹£ - iPad å°ˆç”¨ç‰ˆ</title>
    <style>
        :root {
            --bg-color: #f0f8ff;
            --wallet-bg: #fff5e6;
            --border-color: #5d4037;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent; /* ç§»é™¤é»æ“Šæ™‚çš„è—è‰²æ–¹å¡Š */
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none; 
        }

        /* é ‚éƒ¨æ§åˆ¶åˆ— */
        header {
            background-color: #37474f;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            z-index: 10;
        }

        h1 { margin: 0; font-size: 1.2rem; }

        /* ç¸½å€¼é¡¯ç¤ºå€ */
        .total-container {
            display: flex;
            align-items: center;
            gap: 10px;
            background: #2e7d32;
            padding: 5px 15px;
            border-radius: 50px;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
        }

        .total-label { font-size: 1.2rem; }

        .total-value {
            font-size: 1.6rem;
            font-weight: bold;
            min-width: 120px;
            text-align: center;
            color: #fff;
        }

        .total-value.hidden {
            background-color: #1b5e20;
            color: transparent;
            position: relative;
        }
        .total-value.hidden::after {
            content: "???";
            color: #81c784;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        /* æŒ‰éˆ•é€šç”¨æ¨£å¼ */
        .btn-ctrl {
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: bold;
            touch-action: manipulation;
        }

        .btn-toggle { background-color: #ffca28; color: #333; }
        .btn-reset { background-color: #e53935; color: white; }

        /* ä¸»ç•«é¢ */
        .container {
            display: flex;
            flex: 1;
            height: calc(100vh - 70px);
        }

        /* å·¦å´è²¨å¹£æ¶ */
        .money-rack {
            width: 38%;
            background-color: #eceff1;
            padding: 10px;
            overflow-y: auto;
            border-right: 4px solid #cfd8dc;
            -webkit-overflow-scrolling: touch; 
        }

        .rack-title {
            font-size: 1.1rem;
            color: #546e7a;
            border-bottom: 2px solid #b0bec5;
            padding-bottom: 5px;
            margin-bottom: 15px;
            text-align: center;
        }

        .money-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            justify-content: center;
            padding-bottom: 20px;
        }

        /* === è²¨å¹£æŒ‰éˆ•åŒ– (iPad é»æ“Šæ ¸å¿ƒ) === */
        .money-btn {
            background: none;
            border: none;
            padding: 0;
            margin: 5px;
            cursor: pointer;
            transition: transform 0.1s;
            touch-action: manipulation; /* å‘Šè¨´ç€è¦½å™¨é€™æ˜¯æŒ‰éˆ•ï¼Œä¸è¦å»¶é² */
            position: relative;
        }

        /* é»æ“Šæ™‚çš„ç¸®æ”¾æ•ˆæœ */
        .money-btn:active {
            transform: scale(0.9);
        }

        .currency-img {
            display: block; 
            filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3));
            object-fit: contain;
            pointer-events: none; /* é—œéµï¼šè®“é»æ“Šäº‹ä»¶ç©¿é€åœ–ç‰‡ï¼Œç”± button æ¥æ”¶ */
        }

        /* å³å´éŠ€åŒ… */
        .wallet-area {
            width: 62%;
            background-color: var(--wallet-bg);
            background-image: url('https://www.transparenttextures.com/patterns/leather.png'); 
            position: relative;
            border: 15px solid var(--border-color);
            border-radius: 20px;
            margin: 10px;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.2);
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            padding: 20px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch; 
        }

        .placeholder-text {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            color: rgba(93, 64, 55, 0.3);
            pointer-events: none;
            font-weight: bold;
            text-align: center;
        }

        /* éŠ€åŒ…å…§çš„é …ç›® */
        .wallet-item {
            margin: 5px;
            cursor: pointer;
            animation: popIn 0.3s ease-out;
            position: relative;
            z-index: 10;
        }
        
        /* ç¢ºä¿éŠ€åŒ…è£¡çš„åœ–ç‰‡ä¸èƒ½è¢«é¸å–ï¼Œåªèƒ½é»æ“Š */
        .wallet-item img {
            pointer-events: none; 
        }

        @keyframes popIn {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* å°ºå¯¸è¨­å®š */
        .c10, .c20, .c50, .c1, .c2, .c5, .c10-coin { width: 55px; height: 55px; }
        .note { width: 120px; height: auto; }

        /* æ‰‹æ©Ÿç‰ˆèª¿æ•´ */
        @media (max-width: 800px) {
            .money-rack { width: 35%; padding: 5px; }
            .wallet-area { width: 65%; margin: 5px; border-width: 8px;}
            .note { width: 90px; }
            .c10, .c20, .c50, .c1, .c2, .c5, .c10-coin { width: 45px; height: 45px; }
            .total-value { font-size: 1.2rem; min-width: 80px;}
        }
    </style>
</head>
<body>

<header>
    <h1>æˆ‘çš„éŠ€åŒ…</h1>
    
    <div class="total-container">
        <span class="total-label">ç¸½å€¼: </span>
        <span id="totalValue" class="total-value">0å…ƒ0è§’</span>
        <button class="btn-ctrl btn-toggle" onclick="toggleTotal()">ğŸ‘ï¸</button>
    </div>

    <button class="btn-ctrl btn-reset" onclick="resetWallet()">æ¸…ç©º</button>
</header>

<div class="container">
    <!-- å·¦å´ï¼šè²¨å¹£é¸æ“‡ (å·²æ•´åˆä½ çš„åœ–ç‰‡ä¸¦æ”¹ç‚ºæŒ‰éˆ•) -->
    <div class="money-rack">
        
        <div class="rack-title">ç¡¬å¹£</div>
        <div class="money-grid">
            <button class="money-btn" onclick="addMoney(0.1, 'c10')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTiTmKqFRrWE4Qzbm2gIUsb6vUUYhKcWTme3A&s" class="currency-img c10">
            </button>
            <button class="money-btn" onclick="addMoney(0.2, 'c20')">
                <img src="https://media.karousell.com/media/photos/products/2018/10/04/_1998___02_1538636002_e640ad240" class="currency-img c20">
            </button>
            <button class="money-btn" onclick="addMoney(0.5, 'c50')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKQxKDzvPW2v21PLXVbCRxaV7nejHb9lcXIA&s" class="currency-img c50">
            </button>
            <button class="money-btn" onclick="addMoney(1, 'c1')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScRblcaaQ7ee2WyE2KSg4l_KKgv5rpeXJ1lw&s" class="currency-img c1">
            </button>
            <button class="money-btn" onclick="addMoney(2, 'c2')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS98wcP_CcOLJBVNTs_xql0PzmPxUycsHMmmg&s" class="currency-img c2">
            </button>
            <button class="money-btn" onclick="addMoney(5, 'c5')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGPEQUk6kRE8WW9X6RF71RIYxluo-XNELAcw&s" class="currency-img c5">
            </button>
            <button class="money-btn" onclick="addMoney(10, 'c10-coin')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSAskaWMB2Y0Mb6bXL_OLqu-K4mRUK79SFBcA&s" class="currency-img c10-coin">
            </button>
        </div>

        <div class="rack-title" style="margin-top:15px;">ç´™å¹£</div>
        <div class="money-grid">
            <button class="money-btn" onclick="addMoney(10, 'note')">
                <img src="https://www.hkma.gov.hk/media/chi/img/key-functions/money/notes-and-coins/notes/design-security-features-of-2010-currency-notes/10%20Dollar/Paper%20Note/notefront_1_mark.jpg" class="currency-img note">
            </button>
            <button class="money-btn" onclick="addMoney(20, 'note')">
                <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/20/HSBC_20_(Front).jpg" class="currency-img note">
            </button>
            <button class="money-btn" onclick="addMoney(50, 'note')">
                <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/50/HSBC_50_(Front).jpg" class="currency-img note">
            </button>
            <button class="money-btn" onclick="addMoney(100, 'note')">
                <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/100/banknotes_hsbc_100_front_mark.png" class="currency-img note">
            </button>
            <button class="money-btn" onclick="addMoney(500, 'note')">
                <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/500/banknotes_hsbc_500_front_mark.jpg" class="currency-img note">
            </button>
            <button class="money-btn" onclick="addMoney(1000, 'note')">
                <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/1000/banknotes_hsbc_1000_front_mark.jpg" class="currency-img note">
            </button>
        </div>
    </div>

    <!-- å³å´ï¼šéŠ€åŒ… -->
    <div class="wallet-area" id="wallet">
        <div class="placeholder-text" id="walletLabel">é»æ“Šå·¦å´è²¨å¹£åŠ å…¥</div>
    </div>
</div>

<script>
    let currentTotal = 0;
    let isHidden = false;

    // æ–°å¢è²¨å¹£åŠŸèƒ½
    // value: è²¨å¹£é¢å€¼
    // sizeClass: æ§åˆ¶åœ–ç‰‡å¤§å°çš„ class
    function addMoney(value, sizeClass) {
        // éš±è—æç¤ºæ–‡å­—
        const label = document.getElementById("walletLabel");
        if (label) label.style.display = "none";

        // æ›´æ–°æ•¸å€¼
        currentTotal += value;
        updateDisplay();

        // å‰µå»ºéŠ€åŒ…å…§çš„é …ç›®å®¹å™¨ (div)
        const container = document.createElement("div");
        container.className = "wallet-item";
        
        // ç²å–è¢«é»æ“ŠæŒ‰éˆ•è£¡é¢çš„åœ–ç‰‡ä¾†æº
        // event.currentTarget ä»£è¡¨è¢«é»æ“Šçš„ <button>
        const clickedButton = event.currentTarget; 
        const sourceImg = clickedButton.querySelector("img");
        
        // å‰µå»ºæ–°åœ–ç‰‡
        const img = document.createElement("img");
        img.src = sourceImg.src; // è¤‡è£½ç¶²å€
        img.className = `currency-img ${sizeClass}`;
        
        container.appendChild(img);

        // è¨­å®šé»æ“Šç§»é™¤åŠŸèƒ½
        container.onclick = function() {
            removeMoney(this, value);
        };

        // åŠ å…¥éŠ€åŒ…
        document.getElementById("wallet").appendChild(container);
    }

    // ç§»é™¤è²¨å¹£
    function removeMoney(el, val) {
        currentTotal -= val;
        // è™•ç†å°æ•¸é»èª¤å·® (å¦‚ 0.30000000004)
        if (currentTotal < 0.05) currentTotal = 0;
        
        updateDisplay();
        el.remove(); // ç§»é™¤è©²å…ƒç´ 

        // æª¢æŸ¥éŠ€åŒ…æ˜¯å¦ç©ºäº†
        const walletItems = document.querySelectorAll(".wallet-item");
        if (walletItems.length === 0) {
            const label = document.getElementById("walletLabel");
            if (label) label.style.display = "block";
        }
    }

    // æ›´æ–°é¡¯ç¤ºæ–‡å­— (XXå…ƒXXè§’)
    function updateDisplay() {
        // å…ˆä¹˜10å››æ¨äº”å…¥
        let totalDeciseconds = Math.round(currentTotal * 10);
        
        let dollars = Math.floor(totalDeciseconds / 10);
        let dimes = totalDeciseconds % 10;
        
        let displayString = dollars + "å…ƒ" + dimes + "è§’";
        document.getElementById("totalValue").innerText = displayString;
    }

    // é¡¯ç¤º/éš±è—ç¸½å€¼
    function toggleTotal() {
        isHidden = !isHidden;
        const valSpan = document.getElementById("totalValue");
        const btn = document.querySelector(".btn-toggle");

        if (isHidden) {
            valSpan.classList.add("hidden");
            btn.innerText = "ğŸ”’"; 
            btn.style.backgroundColor = "#bdbdbd";
        } else {
            valSpan.classList.remove("hidden");
            btn.innerText = "ğŸ‘ï¸"; 
            btn.style.backgroundColor = "#ffca28";
        }
    }

    // é‡ç½®/æ¸…ç©º
    function resetWallet() {
        const items = document.querySelectorAll(".wallet-item");
        items.forEach(item => item.remove());

        currentTotal = 0;
        updateDisplay();
        
        const label = document.getElementById("walletLabel");
        if (label) label.style.display = "block";
    }
</script>

</body>
</html>
