<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦™æ¸¯è²¨å¹£</title>
    <style>
        :root {
            --bg-color: #f0f8ff;
            --wallet-bg: #fff5e6;
            --border-color: #5d4037;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        /* é ‚éƒ¨æ§åˆ¶åˆ— */
        header {
            background-color: #37474f;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            z-index: 10;
        }

        h1 { margin: 0; font-size: 1.4rem; }

        /* ç¸½å€¼é¡¯ç¤ºå€ */
       <div class="total-container">
        <!-- ç§»é™¤äº†åŸæœ¬çš„ $ ç¬¦è™Ÿ -->
        <span class="total-label">ç¸½å€¼: </span>
        <span id="totalValue" class="total-value">0å…ƒ0è§’</span>
        <button class="btn-toggle" onclick="toggleTotal()" title="é¡¯ç¤º/éš±è—ç­”æ¡ˆ">ğŸ‘ï¸</button>
    </div>

        .total-label { font-size: 1.2rem; }

        .total-value {
            font-size: 1.8rem;
            font-weight: bold;
            min-width: 100px;
            text-align: center;
            color: #fff;
        }

        /* éš±è—æ™‚çš„æ¨£å¼ */
        .total-value.hidden {
            background-color: #1b5e20;
            color: transparent; /* éš±è—æ–‡å­— */
            position: relative;
        }
        .total-value.hidden::after {
            content: "???";
            color: #81c784;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        button {
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.2s;
            font-weight: bold;
        }

        .btn-toggle { background-color: #ffca28; color: #333; }
        .btn-toggle:hover { background-color: #ffb300; }

        .btn-reset { background-color: #e53935; color: white; }
        .btn-reset:hover { background-color: #c62828; }

        /* ä¸»ç•«é¢ */
        .container {
            display: flex;
            flex: 1;
            height: calc(100vh - 70px);
        }

        /* å·¦å´è²¨å¹£æ¶ */
        .money-rack {
            width: 38%;
            background-color: #eceff1;
            padding: 15px;
            overflow-y: auto;
            border-right: 4px solid #cfd8dc;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .rack-title {
            font-size: 1.1rem;
            color: #546e7a;
            border-bottom: 2px solid #b0bec5;
            padding-bottom: 5px;
            margin-bottom: 5px;
        }

        .money-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center; /* å‚ç›´ç½®ä¸­ */
        }

        /* å³å´éŠ€åŒ… */
        .wallet-area {
            width: 62%;
            background-color: var(--wallet-bg);
            /* çš®é©è³ªæ„ŸèƒŒæ™¯ */
            background-image: url('https://www.transparenttextures.com/patterns/leather.png'); 
            position: relative;
            border: 15px solid var(--border-color);
            border-radius: 20px;
            margin: 15px;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.2);
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            padding: 20px;
            overflow-y: auto;
        }

        .wallet-area.drag-over {
            background-color: #ffe0b2;
            border-color: #e65100;
        }

        .placeholder-text {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            color: rgba(93, 64, 55, 0.3);
            pointer-events: none;
            font-weight: bold;
            text-align: center;
        }

        /* === è²¨å¹£åœ–ç‰‡é€šç”¨æ¨£å¼ === */
        .currency-img {
            cursor: grab;
            transition: transform 0.1s;
            filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3));
            object-fit: contain;
        }
        .currency-img:active { cursor: grabbing; transform: scale(1.1); }
        
        /* éŠ€åŒ…å…§çš„è²¨å¹£ */
        .wallet-item {
            position: relative;
            margin: 5px;
            cursor: pointer;
        }
        .wallet-item:hover { filter: drop-shadow(0 0 5px red); } /* æç¤ºå¯åˆªé™¤ */

/* === ç¡¬å¹£å°ºå¯¸è¨­å®š (çµ±ä¸€å¤§å°ç‰ˆ) === */
        /* å°‡æ‰€æœ‰ç¡¬å¹£çš„ Class é›†åˆåœ¨ä¸€èµ·ï¼Œè¨­å®šå›ºå®šçš„å¯¬åº¦å’Œé«˜åº¦ */
        .c10, .c20, .c50, .c1, .c2, .c5, .c10-coin {
            width: 55px;  /* é€™è£¡è¨­å®šä½ æƒ³è¦çš„å¤§å°ï¼Œä¾‹å¦‚ 55px æˆ– 60px */
            height: 55px; /* è¨­å®šé«˜åº¦èˆ‡å¯¬åº¦ä¸€æ¨£ï¼Œä¿æŒæ­£æ–¹å½¢ç©ºé–“ */
            object-fit: contain; /* ç¢ºä¿åœ–ç‰‡ä¿æŒæ¯”ä¾‹ï¼Œä¸æœƒè®Šå½¢ */
        }
        
        /* === ç´™å¹£å°ºå¯¸è¨­å®š === */
        .note { width: 140px; height: auto; }

        /* æ‰‹æ©Ÿç‰ˆèª¿æ•´ */
        @media (max-width: 600px) {
            .money-rack { width: 35%; padding: 5px; }
            .wallet-area { width: 65%; margin: 5px; border-width: 8px;}
            .note { width: 90px; }
            .currency-img { transform: scale(0.9); }
            .total-value { font-size: 1.2rem; min-width: 60px;}
            h1 { font-size: 1rem; }
        }
    </style>
</head>
<body>

<header>
    <h1>æˆ‘çš„éŠ€åŒ…</h1>
    
    <div class="total-container">
        <span class="total-label">ç¸½å€¼: $</span>
        <span id="totalValue" class="total-value">0.0</span>
        <button class="btn-toggle" onclick="toggleTotal()" title="é¡¯ç¤º/éš±è—ç­”æ¡ˆ">ğŸ‘ï¸</button>
    </div>

    <button class="btn-reset" onclick="resetWallet()">æ¸…ç©º</button>
</header>

<div class="container">
    <!-- å·¦å´ï¼šè²¨å¹£é¸æ“‡ -->
    <div class="money-rack">
        
        <div class="rack-title">ç¡¬å¹£</div>
        <div class="money-grid">
  
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTiTmKqFRrWE4Qzbm2gIUsb6vUUYhKcWTme3A&s" class="currency-img c10" draggable="true" ondragstart="drag(event)" data-value="0.1" title="1æ¯«">
            <img src="https://media.karousell.com/media/photos/products/2018/10/04/_1998___02_1538636002_e640ad240" class="currency-img c20" draggable="true" ondragstart="drag(event)" data-value="0.2" title="2æ¯«">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKQxKDzvPW2v21PLXVbCRxaV7nejHb9lcXIA&s" class="currency-img c50" draggable="true" ondragstart="drag(event)" data-value="0.5" title="5æ¯«">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScRblcaaQ7ee2WyE2KSg4l_KKgv5rpeXJ1lw&s" class="currency-img c1" draggable="true" ondragstart="drag(event)" data-value="1" title="1å…ƒ">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS98wcP_CcOLJBVNTs_xql0PzmPxUycsHMmmg&s" class="currency-img c2" draggable="true" ondragstart="drag(event)" data-value="2" title="2å…ƒ">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGPEQUk6kRE8WW9X6RF71RIYxluo-XNELAcw&s" class="currency-img c5" draggable="true" ondragstart="drag(event)" data-value="5" title="5å…ƒ">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSAskaWMB2Y0Mb6bXL_OLqu-K4mRUK79SFBcA&s" class="currency-img c10-coin" draggable="true" ondragstart="drag(event)" data-value="10" title="10å…ƒç¡¬å¹£">
        </div>

        <div class="rack-title" style="margin-top:15px;">ç´™å¹£</div>
        <div class="money-grid">
            <!-- ç´™å¹£ä½¿ç”¨ 2018ç³»åˆ— æ¨£æœ¬ -->
            <img src="https://www.hkma.gov.hk/media/chi/img/key-functions/money/notes-and-coins/notes/design-security-features-of-2010-currency-notes/10%20Dollar/Paper%20Note/notefront_1_mark.jpg" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="10" title="10å…ƒç´™å¹£">
            
            <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/20/HSBC_20_(Front).jpg" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="20" title="20å…ƒç´™å¹£">

            <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/50/HSBC_50_(Front).jpg" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="50" title="50å…ƒç´™å¹£">

            <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/100/banknotes_hsbc_100_front_mark.png" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="100" title="100å…ƒç´™å¹£">

            <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/500/banknotes_hsbc_500_front_mark.jpg" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="500" title="500å…ƒç´™å¹£">

            <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/1000/banknotes_hsbc_1000_front_mark.jpg" class="currency-img note" draggable="true" ondragstart="drag(event)" data-value="1000" title="1000å…ƒç´™å¹£">
        </div>
    </div>

    <!-- å³å´ï¼šéŠ€åŒ… -->
    <div class="wallet-area" id="wallet" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="leaveDrop(event)">
        <div class="placeholder-text" id="walletLabel">å°‡è²¨å¹£æ‹–æ‹‰åˆ°é€™è£¡</div>
    </div>
</div>

<script>
    let currentTotal = 0;
    let isHidden = false;

    // æ‹–æ›³é–‹å§‹
    function drag(ev) {
        ev.dataTransfer.setData("value", ev.target.getAttribute("data-value"));
        ev.dataTransfer.setData("src", ev.target.src);
        ev.dataTransfer.setData("className", ev.target.className); // ä¿ç•™å°ºå¯¸æ¨£å¼
    }

    // å…è¨±æ”¾ç½®
    function allowDrop(ev) {
        ev.preventDefault();
        document.getElementById("wallet").classList.add("drag-over");
    }

    function leaveDrop(ev) {
        document.getElementById("wallet").classList.remove("drag-over");
    }

    // æ”¾ç½® (Drop)
    function drop(ev) {
        ev.preventDefault();
        document.getElementById("wallet").classList.remove("drag-over");
        document.getElementById("walletLabel").style.display = "none";

        const val = parseFloat(ev.dataTransfer.getData("value"));
        const src = ev.dataTransfer.getData("src");
        const originalClass = ev.dataTransfer.getData("className");

        // é€™è£¡æˆ‘å€‘åªå–åŸæœ¬ class çš„å°ºå¯¸éƒ¨åˆ† (ä¾‹å¦‚ c10, note)ï¼Œå»æ‰ currency-img
        // ç‚ºäº†ç°¡å–®ï¼Œæˆ‘å€‘é‡æ–°æ§‹å»º class
        let sizeClass = "";
        if (originalClass.includes("note")) sizeClass = "note";
        else {
            // æ‰¾å‡ºæ˜¯å“ªå€‹ç¡¬å¹£ class (c10, c20...)
            const classes = originalClass.split(" ");
            classes.forEach(c => {
                if (c.startsWith("c") && c.length <= 4 && c !== "currency-img") {
                    sizeClass = c;
                }
            });
        }

        addMoney(val, src, sizeClass);
    }

    // åŠ å…¥è²¨å¹£åˆ°éŠ€åŒ…
    function addMoney(value, imgSrc, sizeClass) {
        currentTotal += value;
        updateDisplay();

        const img = document.createElement("img");
        img.src = imgSrc;
        img.className = `currency-img wallet-item ${sizeClass}`;
        img.setAttribute("data-value", value);
        
        // é»æ“Šç§»é™¤
        img.onclick = function() {
            removeMoney(this, value);
        };

        // å‹•ç•«
        img.style.opacity = "0";
        document.getElementById("wallet").appendChild(img);
        setTimeout(() => img.style.opacity = "1", 50);
    }

    // ç§»é™¤è²¨å¹£
    function removeMoney(el, val) {
        currentTotal -= val;
        if (currentTotal < 0) currentTotal = 0;
        updateDisplay();
        
        el.remove();

        if (document.getElementById("wallet").children.length <= 1) {
            document.getElementById("walletLabel").style.display = "block";
        }
    }

// æ›´æ–°é¡¯ç¤ºæ–‡å­— (ä¸­æ–‡æ ¼å¼ï¼šXXå…ƒXXè§’)
    function updateDisplay() {
        // 1. å…ˆå°‡ç¸½æ•¸ä¹˜ä»¥ 10 ä¸¦å››æ¨äº”å…¥ï¼Œé¿å…å°æ•¸é»é‹ç®—èª¤å·® (ä¾‹å¦‚ 12.5 è®Šæˆ 125)
        let totalDeciseconds = Math.round(currentTotal * 10);

        // 2. è¨ˆç®—ã€Œå…ƒã€ (æ•´æ•¸é™¤æ³•)
        let dollars = Math.floor(totalDeciseconds / 10);

        // 3. è¨ˆç®—ã€Œè§’ã€ (å–é¤˜æ•¸)
        let dimes = totalDeciseconds % 10;

        // 4. çµ„åˆæ–‡å­—
        // æ ¼å¼ï¼š12å…ƒ5è§’ / 10å…ƒ0è§’
        let displayString = dollars + "å…ƒ" + dimes + "è§’";

        // å¦‚æœä½ å¸Œæœ›ç•¶ã€Œè§’ã€æ˜¯ 0 æ™‚ä¸é¡¯ç¤º (ä¾‹å¦‚é¡¯ç¤º "10å…ƒ" è€Œä¸æ˜¯ "10å…ƒ0è§’")ï¼Œ
        // å¯ä»¥ä½¿ç”¨ä¸‹é¢é€™è¡Œä»£ç¢¼å–ä»£ä¸Šé¢é‚£è¡Œï¼š
        // let displayString = (dimes === 0) ? (dollars + "å…ƒ") : (dollars + "å…ƒ" + dimes + "è§’");

        document.getElementById("totalValue").innerText = displayString;
    }

    // é¡¯ç¤º/éš±è—é–‹é—œ
    function toggleTotal() {
        isHidden = !isHidden;
        const valSpan = document.getElementById("totalValue");
        const btn = document.querySelector(".btn-toggle");

        if (isHidden) {
            valSpan.classList.add("hidden");
            btn.innerText = "ğŸ”’"; // é–ä½/éš±è—åœ–æ¨™
            btn.style.backgroundColor = "#bdbdbd";
        } else {
            valSpan.classList.remove("hidden");
            btn.innerText = "ğŸ‘ï¸"; // çœ¼ç›åœ–æ¨™
            btn.style.backgroundColor = "#ffca28";
        }
    }

    // é‡ç½®
    function resetWallet() {
        const wallet = document.getElementById("wallet");
        const label = document.getElementById("walletLabel");
        
        // ä¿ç•™ labelï¼Œç§»é™¤å…¶ä»–æ‰€æœ‰ img
        const imgs = wallet.querySelectorAll("img");
        imgs.forEach(img => img.remove());

        currentTotal = 0;
        updateDisplay();
        label.style.display = "block";
    }
</script>

</body>
</html>
