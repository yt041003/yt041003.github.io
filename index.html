<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é¦™æ¸¯è²¨å¹£ - æ•™å­¸å·¥å…·</title>
    <style>
        :root {
            --bg-color: #f0f8ff;
            --wallet-bg: #fff5e6;
            --border-color: #5d4037;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none; 
        }

        /* é ‚éƒ¨æ§åˆ¶åˆ— */
        header {
            background-color: #37474f;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            z-index: 10;
        }

        h1 { margin: 0; font-size: 1.2rem; }

        /* ç¸½å€¼é¡¯ç¤ºå€ */
        .total-container {
            display: flex;
            align-items: center;
            gap: 10px;
            background: #2e7d32;
            padding: 5px 15px;
            border-radius: 50px;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
        }

        .total-label { font-size: 1.2rem; }

        .total-value {
            font-size: 1.6rem;
            font-weight: bold;
            min-width: 120px;
            text-align: center;
            color: #fff;
        }

        .total-value.hidden {
            background-color: #1b5e20;
            color: transparent;
            position: relative;
        }
        .total-value.hidden::after {
            content: "???";
            color: #81c784;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        /* æŒ‰éˆ•ç¾¤çµ„ */
        .btn-group {
            display: flex;
            gap: 8px; /* æŒ‰éˆ•ä¹‹é–“çš„è·é›¢ */
        }

        /* æŒ‰éˆ•é€šç”¨æ¨£å¼ */
        .btn-ctrl {
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.95rem;
            cursor: pointer;
            font-weight: bold;
            touch-action: manipulation;
            color: white;
            transition: 0.2s;
            white-space: nowrap; /* é˜²æ­¢æ–‡å­—æ›è¡Œ */
        }

        .btn-toggle-ans { background-color: #ffca28; color: #333; }
        .btn-reset { background-color: #e53935; }
        .btn-hide-rack { background-color: #29b6f6; } 
        .btn-hide-notes { background-color: #ab47bc; } /* æ–°å¢ï¼šç´«è‰²æŒ‰éˆ• */

        /* ä¸»ç•«é¢ */
        .container {
            display: flex;
            flex: 1;
            height: calc(100vh - 70px);
            transition: all 0.3s ease; 
        }

        /* å·¦å´è²¨å¹£æ¶ */
        .money-rack {
            width: 38%;
            background-color: #eceff1;
            padding: 10px;
            overflow-y: auto;
            border-right: 4px solid #cfd8dc;
            -webkit-overflow-scrolling: touch; 
            transition: transform 0.3s ease, width 0.3s ease;
        }

        .rack-title {
            font-size: 1.1rem;
            color: #546e7a;
            border-bottom: 2px solid #b0bec5;
            padding-bottom: 5px;
            margin-bottom: 15px;
            text-align: center;
        }

        .money-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            justify-content: center;
            padding-bottom: 20px;
        }

        /* è²¨å¹£æŒ‰éˆ• */
        .money-btn {
            background: none;
            border: none;
            padding: 0;
            margin: 5px;
            cursor: pointer;
            transition: transform 0.1s;
            touch-action: manipulation;
            position: relative;
        }

        .money-btn:active { transform: scale(0.9); }

        .currency-img {
            display: block; 
            filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3));
            object-fit: contain;
            pointer-events: none;
        }

        /* å³å´éŠ€åŒ… */
        .wallet-area {
            width: 62%;
            background-color: var(--wallet-bg);
            background-image: url('https://www.transparenttextures.com/patterns/leather.png'); 
            position: relative;
            border: 15px solid var(--border-color);
            border-radius: 20px;
            margin: 10px;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.2);
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            padding: 20px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch; 
            transition: width 0.3s ease; 
        }

        .placeholder-text {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            color: rgba(93, 64, 55, 0.3);
            pointer-events: none;
            font-weight: bold;
            text-align: center;
        }

        /* éŠ€åŒ…å…§çš„é …ç›® */
        .wallet-item {
            margin: 5px;
            cursor: pointer;
            animation: popIn 0.3s ease-out;
            position: relative;
            z-index: 10;
        }
        
        .wallet-item img { pointer-events: none; }

        @keyframes popIn {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* å°ºå¯¸è¨­å®š */
        .c10, .c20, .c50, .c1, .c2, .c5, .c10-coin { width: 55px; height: 55px; }
        .note { width: 120px; height: auto; }

        /* === ç‹€æ…‹åˆ‡æ› CSS === */
        body.rack-hidden .money-rack {
            display: none !important;
        }
        
        body.rack-hidden .wallet-area {
            width: 100% !important; 
            margin: 10px; 
        }

        /* ç”¨æ–¼éš±è—ç´™å¹£å€å¡Šçš„ class */
        .notes-hidden-style {
            display: none;
        }

        /* æ‰‹æ©Ÿç‰ˆèª¿æ•´ */
        @media (max-width: 800px) {
            .money-rack { width: 35%; padding: 5px; }
            .wallet-area { width: 65%; margin: 5px; border-width: 8px;}
            .note { width: 90px; }
            .c10, .c20, .c50, .c1, .c2, .c5, .c10-coin { width: 45px; height: 45px; }
            .total-value { font-size: 1.2rem; min-width: 80px;}
            
            .btn-ctrl { padding: 8px 10px; font-size: 0.8rem; }
            h1 { display: none; } /* æ‰‹æ©Ÿç‰ˆéš±è—æ¨™é¡Œä»¥é¨°å‡ºç©ºé–“çµ¦æŒ‰éˆ• */
        }
    </style>
</head>
<body>

<header>
    <h1>æˆ‘çš„éŠ€åŒ…</h1>
    
    <div class="total-container">
        <span class="total-label">ç¸½å€¼: </span>
        <span id="totalValue" class="total-value">0å…ƒ0è§’</span>
        <button class="btn-ctrl btn-toggle-ans" onclick="toggleTotal()">ğŸ‘ï¸</button>
    </div>

    <div class="btn-group">
        <!-- æ–°å¢çš„éš±è—ç´™å¹£æŒ‰éˆ• -->
        <button id="btnNotes" class="btn-ctrl btn-hide-notes" onclick="toggleNotes()">éš±è—ç´™å¹£</button>
        <!-- éš±è—æ•´å€‹è²¨å¹£æ¶æŒ‰éˆ• -->
        <button id="btnHide" class="btn-ctrl btn-hide-rack" onclick="toggleRack()">éš±è—å…¨éƒ¨</button>
        <!-- æ¸…ç©ºæŒ‰éˆ• -->
        <button class="btn-ctrl btn-reset" onclick="resetWallet()">æ¸…ç©º</button>
    </div>
</header>

<div class="container">
    <!-- å·¦å´ï¼šè²¨å¹£é¸æ“‡ -->
    <div class="money-rack">
        
        <div class="rack-title">ç¡¬å¹£</div>
        <div class="money-grid">
            <button class="money-btn" onclick="addMoney(0.1, 'c10')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTiTmKqFRrWE4Qzbm2gIUsb6vUUYhKcWTme3A&s" class="currency-img c10">
            </button>
            <button class="money-btn" onclick="addMoney(0.2, 'c20')">
                <img src="https://media.karousell.com/media/photos/products/2018/10/04/_1998___02_1538636002_e640ad240" class="currency-img c20">
            </button>
            <button class="money-btn" onclick="addMoney(0.5, 'c50')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKQxKDzvPW2v21PLXVbCRxaV7nejHb9lcXIA&s" class="currency-img c50">
            </button>
            <button class="money-btn" onclick="addMoney(1, 'c1')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScRblcaaQ7ee2WyE2KSg4l_KKgv5rpeXJ1lw&s" class="currency-img c1">
            </button>
            <button class="money-btn" onclick="addMoney(2, 'c2')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS98wcP_CcOLJBVNTs_xql0PzmPxUycsHMmmg&s" class="currency-img c2">
            </button>
            <button class="money-btn" onclick="addMoney(5, 'c5')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGPEQUk6kRE8WW9X6RF71RIYxluo-XNELAcw&s" class="currency-img c5">
            </button>
            <button class="money-btn" onclick="addMoney(10, 'c10-coin')">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSAskaWMB2Y0Mb6bXL_OLqu-K4mRUK79SFBcA&s" class="currency-img c10-coin">
            </button>
        </div>

        <!-- æˆ‘å€‘å°‡ç´™å¹£å€åŸŸåŒ…åœ¨ä¸€å€‹ div ä¸­ï¼Œæ–¹ä¾¿æ§åˆ¶é¡¯ç¤º/éš±è— -->
        <div id="notes-container">
            <div class="rack-title" style="margin-top:15px;">ç´™å¹£</div>
            <div class="money-grid">
                <button class="money-btn" onclick="addMoney(10, 'note')">
                    <img src="https://www.hkma.gov.hk/media/chi/img/key-functions/money/notes-and-coins/notes/design-security-features-of-2010-currency-notes/10%20Dollar/Paper%20Note/notefront_1_mark.jpg" class="currency-img note">
                </button>
                <button class="money-btn" onclick="addMoney(20, 'note')">
                    <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/20/HSBC_20_(Front).jpg" class="currency-img note">
                </button>
                <button class="money-btn" onclick="addMoney(50, 'note')">
                    <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/50/HSBC_50_(Front).jpg" class="currency-img note">
                </button>
                <button class="money-btn" onclick="addMoney(100, 'note')">
                    <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/100/banknotes_hsbc_100_front_mark.png" class="currency-img note">
                </button>
                <button class="money-btn" onclick="addMoney(500, 'note')">
                    <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/500/banknotes_hsbc_500_front_mark.jpg" class="currency-img note">
                </button>
                <button class="money-btn" onclick="addMoney(1000, 'note')">
                    <img src="https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/1000/banknotes_hsbc_1000_front_mark.jpg" class="currency-img note">
                </button>
            </div>
        </div>
    </div>

    <!-- å³å´ï¼šéŠ€åŒ… -->
    <div class="wallet-area" id="wallet">
        <div class="placeholder-text" id="walletLabel">é»æ“Šå·¦å´è²¨å¹£åŠ å…¥</div>
    </div>
</div>

<script>
    let currentTotal = 0;
    let isHidden = false;

    // æ–°å¢è²¨å¹£åŠŸèƒ½
    function addMoney(value, sizeClass) {
        const label = document.getElementById("walletLabel");
        if (label) label.style.display = "none";

        currentTotal += value;
        updateDisplay();

        const container = document.createElement("div");
        container.className = "wallet-item";
        
        const clickedButton = event.currentTarget; 
        const sourceImg = clickedButton.querySelector("img");
        
        const img = document.createElement("img");
        img.src = sourceImg.src; 
        img.className = `currency-img ${sizeClass}`;
        
        container.appendChild(img);

        container.onclick = function() {
            removeMoney(this, value);
        };

        document.getElementById("wallet").appendChild(container);
    }

    // ç§»é™¤è²¨å¹£
    function removeMoney(el, val) {
        currentTotal -= val;
        if (currentTotal < 0.05) currentTotal = 0;
        
        updateDisplay();
        el.remove();

        const walletItems = document.querySelectorAll(".wallet-item");
        if (walletItems.length === 0) {
            const label = document.getElementById("walletLabel");
            if (label) label.style.display = "block";
        }
    }

    // æ›´æ–°é¡¯ç¤ºæ–‡å­—
    function updateDisplay() {
        let totalDeciseconds = Math.round(currentTotal * 10);
        let dollars = Math.floor(totalDeciseconds / 10);
        let dimes = totalDeciseconds % 10;
        let displayString = dollars + "å…ƒ" + dimes + "è§’";
        document.getElementById("totalValue").innerText = displayString;
    }

    // é¡¯ç¤º/éš±è—ç¸½å€¼ç­”æ¡ˆ
    function toggleTotal() {
        isHidden = !isHidden;
        const valSpan = document.getElementById("totalValue");
        const btn = document.querySelector(".btn-toggle-ans");

        if (isHidden) {
            valSpan.classList.add("hidden");
            btn.innerText = "ğŸ”’"; 
            btn.style.backgroundColor = "#bdbdbd";
        } else {
            valSpan.classList.remove("hidden");
            btn.innerText = "ğŸ‘ï¸"; 
            btn.style.backgroundColor = "#ffca28";
        }
    }

    // é¡¯ç¤º/éš±è—å·¦å´ã€å…¨éƒ¨ã€‘è²¨å¹£æ¶
    function toggleRack() {
        document.body.classList.toggle('rack-hidden');
        const btn = document.getElementById('btnHide');
        
        if (document.body.classList.contains('rack-hidden')) {
            btn.innerText = "é¡¯ç¤ºå…¨éƒ¨";
        } else {
            btn.innerText = "éš±è—å…¨éƒ¨";
        }
    }

    // æ–°å¢ï¼šé¡¯ç¤º/éš±è—å·¦å´ã€ç´™å¹£ã€‘å€åŸŸ
    function toggleNotes() {
        const notesContainer = document.getElementById('notes-container');
        const btn = document.getElementById('btnNotes');

        if (notesContainer.style.display === 'none') {
            notesContainer.style.display = 'block';
            btn.innerText = 'éš±è—ç´™å¹£';
            btn.style.backgroundColor = '#ab47bc'; // ç´«è‰²
        } else {
            notesContainer.style.display = 'none';
            btn.innerText = 'é¡¯ç¤ºç´™å¹£';
            btn.style.backgroundColor = '#8e24aa'; // æ·±ç´«è‰²
        }
    }

    // é‡ç½®
    function resetWallet() {
        const items = document.querySelectorAll(".wallet-item");
        items.forEach(item => item.remove());

        currentTotal = 0;
        updateDisplay();
        
        const label = document.getElementById("walletLabel");
        if (label) label.style.display = "block";
    }
</script>

</body>
</html>
