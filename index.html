<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è²¨å¹£ç¥æ¢ - é‚è¼¯ä¿®å¾©ç‰ˆ</title>
    <style>
        :root {
            --bg-color: #2c3e50;
            --card-bg: #ecf0f1;
            --user-zone-bg: #ffffff;
            --success-color: #27ae60;
            --error-color: #c0392b;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
        }

        /* é ‚éƒ¨æ¨™é¡Œ */
        header {
            background-color: #34495e;
            color: white;
            padding: 10px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 10;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h1 { margin: 0; font-size: 1.2rem; }
        .counter { font-size: 0.9rem; color: #bdc3c7; background: rgba(255,255,255,0.1); padding: 5px 10px; border-radius: 10px;}

        /* éŠæˆ²ä¸»å€ */
        .game-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 10px;
            gap: 10px;
            overflow-y: auto;
        }

        /* 1. é¡Œç›®å¡ç‰‡ */
        .question-section {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            flex: 0 0 auto;
        }

        .clue-text {
            font-size: 1.6rem;
            color: #2c3e50;
            font-weight: bold;
            line-height: 1.5;
        }

        .highlight {
            color: #c0392b;
            font-size: 1.8rem;
            padding: 0 5px;
            display: inline-block;
            border-bottom: 2px solid rgba(192, 57, 43, 0.3);
        }

        /* 2. å­¸ç”Ÿä½œç­”å€ (ç©ºç™½æ¡†) */
        .user-answer-zone {
            flex: 1;
            background-color: var(--user-zone-bg);
            border: 3px dashed #bdc3c7;
            border-radius: 15px;
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            justify-content: center;
            gap: 10px;
            min-height: 120px;
            position: relative;
            transition: border-color 0.3s;
        }

        .user-answer-zone.correct { border-color: var(--success-color); background-color: #e8f8f5; }
        .user-answer-zone.wrong { border-color: var(--error-color); background-color: #fcebe6; }

        .placeholder-text {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            color: #bdc3c7;
            font-size: 1.2rem;
            pointer-events: none;
        }

        /* 3. è²¨å¹£é¸æ“‡éµç›¤ */
        .selection-area {
            background-color: #34495e;
            padding: 10px;
            border-radius: 15px 15px 0 0;
            overflow-y: auto;
            flex: 0 0 auto;
            max-height: 40%;
        }

        .selection-title {
            color: white;
            font-size: 0.9rem;
            margin-bottom: 5px;
            text-align: center;
            opacity: 0.8;
        }

        .currency-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
        }

        /* è²¨å¹£æŒ‰éˆ• */
        .currency-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            transition: transform 0.1s;
            touch-action: manipulation;
        }
        .currency-btn:active { transform: scale(0.9); }
        
        /* åœ–ç‰‡æ¨£å¼ */
        .img-coin { width: 55px; height: 55px; object-fit: contain; filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.5)); pointer-events: none;}
        .img-note { width: 100px; height: auto; object-fit: contain; filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.5)); pointer-events: none;}

        /* ä½œç­”å€å…§çš„åœ–ç‰‡ (å¯é»æ“Šç§»é™¤) */
        .user-item {
            cursor: pointer;
            animation: popIn 0.2s ease-out;
            position: relative;
            width: 55px; 
            height: 55px;
            object-fit: contain;
            filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3));
        }
        
        .user-item.note-item {
            width: 100px;
            height: auto;
        }

        .user-item::after {
            content: "Ã—";
            position: absolute;
            top: -5px; right: -5px;
            background: red; color: white;
            border-radius: 50%;
            width: 18px; height: 18px;
            font-size: 14px;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 2px 2px rgba(0,0,0,0.3);
        }

        @keyframes popIn {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }

        /* æ§åˆ¶æŒ‰éˆ•å€ */
        .controls-row {
            display: flex;
            gap: 10px;
            padding: 5px;
            justify-content: center;
        }

        .btn {
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            color: white;
            box-shadow: 0 4px 0 rgba(0,0,0,0.2);
            transition: transform 0.1s;
            flex: 1;
            max-width: 150px;
        }
        .btn:active { transform: translateY(4px); box-shadow: none; }

        .btn-submit { background-color: var(--success-color); }
        .btn-clear { background-color: #95a5a6; }
        .btn-next { background: linear-gradient(135deg, #e74c3c, #8e44ad); display: none; }

        /* çµæœé€šçŸ¥ */
        .result-overlay {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            text-align: center;
            font-size: 2rem;
            font-weight: bold;
            z-index: 100;
            display: none;
            animation: zoomIn 0.3s;
        }
        .res-correct { color: var(--success-color); border: 3px solid var(--success-color); }
        .res-wrong { color: var(--error-color); border: 3px solid var(--error-color); }

        @keyframes zoomIn { from { transform: translate(-50%, -50%) scale(0); } to { transform: translate(-50%, -50%) scale(1); } }

        /* æ‰‹æ©Ÿèª¿æ•´ */
        @media (max-width: 600px) {
            .clue-text { font-size: 1.2rem; }
            .highlight { font-size: 1.4rem; }
            .img-coin, .user-item { width: 45px; height: 45px; }
            .img-note, .user-item.note-item { width: 80px; }
            .selection-area { max-height: 45%; }
        }
    </style>
</head>
<body>

<header>
    <div id="qCounter" class="counter">é¡Œç›®: 1/21</div>
    <h1>ğŸ•µï¸â€â™‚ï¸ è²¨å¹£ç¥æ¢</h1>
    <div style="width: 60px;"></div> 
</header>

<div class="game-area">
    <!-- 1. é¡Œç›®å€ -->
    <div class="question-section">
        <div id="clueText" class="clue-text">è«‹æŒ‰ä¸‹æ–¹æŒ‰éˆ•é–‹å§‹éŠæˆ²</div>
    </div>

    <!-- 2. å­¸ç”Ÿä½œç­”å€ -->
    <div id="userZone" class="user-answer-zone">
        <div class="placeholder-text" id="placeholder">é»æ“Šä¸‹æ–¹è²¨å¹£ä½œç­”</div>
    </div>

    <!-- æ§åˆ¶æŒ‰éˆ• -->
    <div class="controls-row">
        <button id="btnClear" class="btn btn-clear" onclick="clearUserAnswer()">æ¸…é™¤é‡é¸</button>
        <button id="btnSubmit" class="btn btn-submit" onclick="checkAnswer()">æäº¤ç­”æ¡ˆ</button>
        <button id="btnNext" class="btn btn-next" onclick="nextQuestion()">ä¸‹ä¸€é¡Œ â¡</button>
    </div>

    <!-- 3. è²¨å¹£é¸æ“‡éµç›¤ -->
    <div class="selection-area">
        <div class="selection-title">é»æ“Šè²¨å¹£åŠ å…¥ç­”æ¡ˆå€</div>
        <div class="currency-grid">
            <button class="currency-btn" onclick="addToAnswer('c10')"><img id="btn-c10" class="img-coin"></button>
            <button class="currency-btn" onclick="addToAnswer('c20')"><img id="btn-c20" class="img-coin"></button>
            <button class="currency-btn" onclick="addToAnswer('c50')"><img id="btn-c50" class="img-coin"></button>
            <button class="currency-btn" onclick="addToAnswer('c1')"><img id="btn-c1" class="img-coin"></button>
            <button class="currency-btn" onclick="addToAnswer('c2')"><img id="btn-c2" class="img-coin"></button>
            <button class="currency-btn" onclick="addToAnswer('c5')"><img id="btn-c5" class="img-coin"></button>
            <button class="currency-btn" onclick="addToAnswer('c10-coin')"><img id="btn-c10-coin" class="img-coin"></button>
            <button class="currency-btn" onclick="addToAnswer('note-10')"><img id="btn-note-10" class="img-note"></button>
            <button class="currency-btn" onclick="addToAnswer('note-20')"><img id="btn-note-20" class="img-note"></button>
            <button class="currency-btn" onclick="addToAnswer('note-50')"><img id="btn-note-50" class="img-note"></button>
            <button class="currency-btn" onclick="addToAnswer('note-100')"><img id="btn-note-100" class="img-note"></button>
            <button class="currency-btn" onclick="addToAnswer('note-500')"><img id="btn-note-500" class="img-note"></button>
            <button class="currency-btn" onclick="addToAnswer('note-1000')"><img id="btn-note-1000" class="img-note"></button>
        </div>
    </div>
</div>

<div id="resultMsg" class="result-overlay"></div>

<script>
    // === 1. åœ–ç‰‡é€£çµ ===
    const imgData = {
        'c10': "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTiTmKqFRrWE4Qzbm2gIUsb6vUUYhKcWTme3A&s",
        'c20': "https://media.karousell.com/media/photos/products/2018/10/04/_1998___02_1538636002_e640ad240",
        'c50': "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKQxKDzvPW2v21PLXVbCRxaV7nejHb9lcXIA&s",
        'c1': "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScRblcaaQ7ee2WyE2KSg4l_KKgv5rpeXJ1lw&s",
        'c2': "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS98wcP_CcOLJBVNTs_xql0PzmPxUycsHMmmg&s",
        'c5': "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGPEQUk6kRE8WW9X6RF71RIYxluo-XNELAcw&s",
        'c10-coin': "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSAskaWMB2Y0Mb6bXL_OLqu-K4mRUK79SFBcA&s",
        'note-10': "https://www.hkma.gov.hk/media/chi/img/key-functions/money/notes-and-coins/notes/design-security-features-of-2010-currency-notes/10%20Dollar/Paper%20Note/notefront_1_mark.jpg",
        'note-20': "https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/20/HSBC_20_(Front).jpg",
        'note-50': "https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/50/HSBC_50_(Front).jpg",
        'note-100': "https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/100/banknotes_hsbc_100_front_mark.png",
        'note-500': "https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/500/banknotes_hsbc_500_front_mark.jpg",
        'note-1000': "https://www.hkma.gov.hk/media/eng/img/key-functions/money/notes-and-coins/notes/design-security-features-of-currency-notes/2018/HSBC/1000/banknotes_hsbc_1000_front_mark.jpg"
    };

    // === 2. åˆå§‹åŒ–åœ–ç‰‡ ===
    for (const [key, url] of Object.entries(imgData)) {
        const imgEl = document.getElementById(`btn-${key}`);
        if (imgEl) imgEl.src = url;
    }

    // === 3. é¡Œåº« (é‡é»ä¿®æ”¹ï¼šç­”æ¡ˆè®Šç‚ºäºŒç¶­é™£åˆ—ï¼Œæ”¯æ´å¤šç¨®æ­£ç¢ºçµ„åˆ) ===
    // ans: [ ['çµ„åˆA1', 'çµ„åˆA2'], ['çµ„åˆB1', 'çµ„åˆB2'] ]
    const originalQuestions = [
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>2å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>6å…ƒ</span>ã€‚", 
            ans: [ ['c5', 'c1'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>2å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>7å…ƒ</span>ã€‚", 
            ans: [ ['c5', 'c2'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>2å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>11å…ƒ</span>ã€‚", 
            ans: [ ['c10-coin', 'c1'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>2å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>1å…ƒ2è§’</span>ã€‚", 
            ans: [ ['c1', 'c20'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>2å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>7æ¯«</span>ã€‚", 
            ans: [ ['c50', 'c20'] ] 
        },
        // ä¿®æ­£æ­¤é¡Œï¼šæ”¯æ´ [1å…ƒ, 1æ¯«, 1æ¯«] æˆ– [5æ¯«, 5æ¯«, 2æ¯«]
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>3å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>1å…ƒ2è§’</span>ã€‚", 
            ans: [ ['c1', 'c10', 'c10'], ['c50', 'c50', 'c20'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>3å¼µ</span> ç´™å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>170å…ƒ</span>ï¼Œè€Œä¸”é¡è‰² <span class='highlight'>å…¨éƒ¨ä¸åŒ</span>ã€‚", 
            ans: [ ['note-100', 'note-50', 'note-20'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>2å¼µ</span> ç´™å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>120å…ƒ</span>ï¼Œä¸€å¼µæ˜¯ <span class='highlight'>ç´…è‰²</span>ï¼Œä¸€å¼µæ˜¯ <span class='highlight'>è—è‰²</span>ã€‚", 
            ans: [ ['note-100', 'note-20'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>3å¼µ</span> ç´™å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>60å…ƒ</span>ï¼Œå…¨éƒ¨é¡è‰²éƒ½æ˜¯ <span class='highlight'>ä¸€æ¨£</span> çš„ã€‚", 
            ans: [ ['note-20', 'note-20', 'note-20'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>3å¼µ</span> ç´™å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>150å…ƒ</span>ï¼Œå…¨éƒ¨é¡è‰²éƒ½æ˜¯ <span class='highlight'>ä¸€æ¨£</span> çš„ã€‚", 
            ans: [ ['note-50', 'note-50', 'note-50'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>1å¼µ</span> ç´™å¹£å’Œ <span class='highlight'>1å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>100å…ƒ5è§’</span>ã€‚", 
            ans: [ ['note-100', 'c50'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>1å¼µ</span> ç´™å¹£å’Œ <span class='highlight'>1å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>22å…ƒ</span>ã€‚", 
            ans: [ ['note-20', 'c2'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>1å¼µ</span> ç´™å¹£å’Œ <span class='highlight'>1å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>1010å…ƒ</span>ã€‚", 
            ans: [ ['note-1000', 'c10-coin'] ] 
        },
        // ä¿®æ­£æ­¤é¡Œï¼šæ”¯æ´ [$10ç´™å¹£, $1, $1, $1] æˆ– [$10ç´™å¹£, $2, 5æ¯«, 5æ¯«]
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>1å¼µ</span> ç´™å¹£å’Œ <span class='highlight'>3å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>13å…ƒ</span>ã€‚", 
            ans: [ ['note-10', 'c1', 'c1', 'c1'], ['note-10', 'c2', 'c50', 'c50'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>1å¼µ</span> ç´™å¹£å’Œ <span class='highlight'>1å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>505å…ƒ</span>ã€‚", 
            ans: [ ['note-500', 'c5'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>2å¼µ</span> ç´™å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>40å…ƒ</span>ï¼Œè€Œä¸”å®ƒå€‘é¡è‰²æ˜¯ <span class='highlight'>ä¸€æ¨£</span> çš„ã€‚", 
            ans: [ ['note-20', 'note-20'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>2å¼µ</span> ç´™å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>100å…ƒ</span>ï¼Œä½†è£¡é¢ <span class='highlight'>æ²’æœ‰ç´…è‰²</span> çš„ç´™å¹£ã€‚", 
            ans: [ ['note-50', 'note-50'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>2å¼µ</span> ç´™å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>1000å…ƒ</span>ï¼Œä½†è£¡é¢ <span class='highlight'>æ²’æœ‰é‡‘è‰²</span> çš„ç´™å¹£ã€‚", 
            ans: [ ['note-500', 'note-500'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>2å€‹</span> è²¨å¹£ï¼Œä¸€å€‹æ˜¯ç´™å¹£ï¼Œä¸€å€‹æ˜¯ç¡¬å¹£ï¼Œä½†å®ƒå€‘çš„ <span class='highlight'>é¢å€¼æ˜¯ä¸€æ¨£</span> çš„ã€‚", 
            ans: [ ['note-10', 'c10-coin'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>2å€‹</span> ç¡¬å¹£ï¼Œå½¢ç‹€ <span class='highlight'>éƒ½ä¸æ˜¯åœ“å½¢</span> çš„ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>4å…ƒ</span>ã€‚", 
            ans: [ ['c2', 'c2'] ] 
        },
        { 
            text: "è¢‹è£¡é¢æœ‰ <span class='highlight'>3å€‹</span> ç¡¬å¹£ï¼Œç¸½å€¼æ˜¯ <span class='highlight'>3å…ƒ</span>ï¼Œä½†æˆ‘ <span class='highlight'>æ²’æœ‰1å…ƒ</span> ç¡¬å¹£ã€‚", 
            ans: [ ['c2', 'c50', 'c50'] ] 
        }
    ];

    let remainingQuestions = [...originalQuestions];
    let currentQuestion = null;
    let userSelection = [];

    nextQuestion();

    // === 4. åŠŸèƒ½å‡½æ•¸ ===

    function addToAnswer(key) {
        userSelection.push(key);
        
        const zone = document.getElementById("userZone");
        document.getElementById("placeholder").style.display = "none";

        const img = document.createElement("img");
        img.src = imgData[key];
        
        if (key.startsWith('note')) {
            img.className = "user-item note-item";
        } else {
            img.className = "user-item";
        }

        img.onclick = function() {
            const idx = userSelection.indexOf(key);
            if (idx > -1) userSelection.splice(idx, 1);
            this.remove();
            
            if (userSelection.length === 0) {
                document.getElementById("placeholder").style.display = "block";
            }
        };

        zone.appendChild(img);
    }

    function clearUserAnswer() {
        userSelection = [];
        const zone = document.getElementById("userZone");
        const items = zone.querySelectorAll(".user-item");
        items.forEach(i => i.remove());
        
        document.getElementById("placeholder").style.display = "block";
        zone.classList.remove("correct", "wrong");
    }

    function checkAnswer() {
        if (!currentQuestion) return;

        // å°‡ç”¨æˆ¶ç­”æ¡ˆæ’åºä¸¦è½‰å­—ä¸²
        const sortedUser = [...userSelection].sort();
        const userJson = JSON.stringify(sortedUser);

        // æª¢æŸ¥æ˜¯å¦ç¬¦åˆé¡Œåº«ä¸­ä»»ä½•ä¸€å€‹æœ‰æ•ˆçµ„åˆ (æ”¯æ´å¤šçµ„ç­”æ¡ˆ)
        const isCorrect = currentQuestion.ans.some(validAns => {
            const sortedValid = [...validAns].sort();
            return JSON.stringify(sortedValid) === userJson;
        });
        
        const resultDiv = document.getElementById("resultMsg");
        const zone = document.getElementById("userZone");

        resultDiv.style.display = "block";
        
        if (isCorrect) {
            resultDiv.innerText = "âœ… ç­”å°äº†ï¼";
            resultDiv.className = "result-overlay res-correct";
            zone.classList.add("correct");
            zone.classList.remove("wrong");
            
            document.getElementById("btnSubmit").style.display = "none";
            document.getElementById("btnClear").style.display = "none";
            document.getElementById("btnNext").style.display = "block";
        } else {
            resultDiv.innerText = "âŒ å†è©¦ä¸€æ¬¡";
            resultDiv.className = "result-overlay res-wrong";
            zone.classList.add("wrong");
            
            setTimeout(() => {
                resultDiv.style.display = "none";
            }, 1500);
        }
    }

    function nextQuestion() {
        clearUserAnswer();
        document.getElementById("userZone").classList.remove("correct", "wrong");
        document.getElementById("btnSubmit").style.display = "block";
        document.getElementById("btnClear").style.display = "block";
        document.getElementById("btnNext").style.display = "none";
        document.getElementById("resultMsg").style.display = "none";

        if (remainingQuestions.length === 0) {
            remainingQuestions = [...originalQuestions]; 
            alert("é¡Œç›®å·²å…¨éƒ¨å®Œæˆï¼Œé‡æ–°é–‹å§‹ï¼");
        }

        const randomIndex = Math.floor(Math.random() * remainingQuestions.length);
        currentQuestion = remainingQuestions[randomIndex];
        remainingQuestions.splice(randomIndex, 1);

        document.getElementById("clueText").innerHTML = currentQuestion.text;
        
        const currentIdx = originalQuestions.length - remainingQuestions.length;
        document.getElementById("qCounter").innerText = `é¡Œç›®: ${currentIdx} / ${originalQuestions.length}`;
    }

</script>

</body>
</html>
